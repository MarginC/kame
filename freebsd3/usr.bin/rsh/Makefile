#	@(#)Makefile	8.1 (Berkeley) 7/19/93
#	$Id: Makefile,v 1.9 1998/10/09 06:47:57 markm Exp $

PROG=	rsh
SRCS=	rsh.c
CFLAGS+=-Wall

.if exists(${DESTDIR}${LIBDIR}/libkrb.a) && defined(MAKE_KERBEROS4)
SRCS+=	krcmd.c kcmd.c rcmd_util.c encrypt.c
CFLAGS+=-DKERBEROS -DCRYPT -DHAVE_CONFIG_H \
	-I${.CURDIR}/../rlogin -I${.CURDIR} -I- \
	-I${.CURDIR}/../../kerberosIV/include \
	-I${.CURDIR}/../../crypto/kerberosIV/include \
	-I${.CURDIR}/../../crypto/kerberosIV/lib/roken \
	-I${.CURDIR}/../../crypto/kerberosIV/appl/bsd
DPADD=	${LIBUTIL} ${LIBKRB} ${LIBDES} ${LIBCRYPT}
LDADD=	-lutil -lkrb -ldes -lcrypt
DISTRIBUTION=	krb
.PATH:	${.CURDIR}/../../crypto/kerberosIV/appl/bsd
.endif

BINMODE=4555
INSTALLFLAGS=-fschg

LDADD+= -L${.OBJDIR}/../../../src/libinet6 \
        -L${.OBJDIR}/../../../src/libinet6/obj \
        -L/usr/local/v6/lib -linet6
DPADD+= ${.OBJDIR}/../../../src/libinet6/libinet6.a \
        ${.OBJDIR}/../../../src/libinet6/obj/libinet6.a \
        /usr/local/v6/lib/libinet6.a
CFLAGS+=-DINET6
#.PATH:	${.CURDIR}/../rlogin

.include <bsd.prog.mk>
