			CHANGELOG for KAME kit
$KAME: CHANGELOG,v 1.2387 2003/04/21 06:27:04 itojun Exp $

<200304>
Mon Apr 21 16:39:26 JST 2003  itojun@iijlab.net
	* sctp patch 8 from randall

	1) Problem with source address selection for v6
	   found by Itojun when sending to ::1

	2) Security upgrade to report addresses in three
	   states ACTIVE/IN-ACTIVE and UN-CONFIRMED. This
	   also includes fixes to HB un-confirmed address
	   more rapidly. The idea behind this is to
	   keep folks from specifying addresses that are
	   not theres to do a "masqurade". This fix is
	   a result of discussions with Steve Bellovin.

	3) Same issue, #2 but also added in is when a 
	   user sends to an address, if the address is
	   un-cofirmed we treat it just like a MSG_OVERIDE
	   so we will send to the address the user thinks
	   OR we get an abort from the peer if the association
	   that had the address was really masqurading.

	4) Minor formatting problems to match BSD style

	5) Implementors Guide update. We had failed to
	   send a INIT-ACK back to the same place we sent
	   the INIT to when we had a collision scenario.
	   Missed this issue in putting all the IG in
	   the code. This comes as a result of the LONG
	   discussion with B B on the sctp-impl list. 

	6) Michael Tuexen found that user caused abort
	   when the user did a SO_LINGER = 0 and a close
	   has incorrect lengths in the TLV. This was
	   through ANY code that did a optional param
	   on the ABORT.. the m_len's were not properly
	   set.

	7) When sending to a loopback in V6 we listed
	   all Link Locals... but none of these are
	   really sendable since the peer (on our
	   host) has no scope. Found while investaging
	   Itojuns ::1 send issue. Now we will never
	   list link-local address so the only way
	   they can show up is as a source address.

	8) Include file and various other issues reported
	   by kame. We kill off the sysctrls that somehow
	   historically got in and are not used. Only ones
	   now are the ASCONF, RECV Buf default and Snd
	   buf default.

	9) Will now send up to max-bursts hb's to unconfirmed
	   addresses and we use only the RTO for HB setting
	   when we are in a unconfirmed mode.. aka not
	   all addresses have HB'd yet.

	10) Fixes to better recognize the various ICMP's during
	    initial INIT sending. If the assoc is up we better
	    recognize unreachable host messages too (reported
	    by kame-core group).

2003-04-17  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/libinet6/getaddrinfo.c (getaddrinfo): when AI_PASSIVE
	is specified, put non-SCTP protocols before SCTP not to break
	buggy-but-deployed applications.

2003-04-17  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/libinet6/getaddrinfo.c (getaddrinfo): corrected the
	initial check for socktype/protocol combination of hints.
	the previous code could reject {AF_INET6, SOCK_STREAM,
	IPPROTO_TCP} when we had IPPROTO_SCTP before TCP in the explore
	structure.

2003-04-16  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* freebsd4/ports/openssh-portable-sctp: added a port kit to
	support other stream protocols than TCP (mainly intending SCTP) in
	OpenSSH 3.6.1p1.

2003-04-11  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/rtsold/rtsold.c (main): corrected over-killing
	pid-file generation.

2003-04-11  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6/dhcp6c: added the -p pid-file option.

2003-04-11  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/rtsold/if.c (interface_status): considered IEEE 802.11
	interfaces correctly.

2003-04-11  MOMOSE Tsuyoshi  <t-momose@netlab.nec.co.jp>

	* kame/kame/had: a part of handling MPA is divided to another
	file. Current handling MPA code prevents to port 'had' to 
	other MIP6 implementations due to accessing kernel internal
	structures.

2003-04-11  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/rtsold: added the "O-bit" support.  When rtsold
	receives a router advertisement with the OtherConfig flag being
	set, it will invoke a script file (if specified by the -O option)
	to kick a separate protocol for the "other" configuration.

2003-04-11  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6: supported the ability for the client to call a
	configuration script when the client receives a reply message.  A
	new configuration statement to specify the script was provided.

2003-04-10  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/rtadvd/config.c (getconfig): supported a string
	notation for flag parameters.  For example, raflags="o" specifies
	the daemon to set the "O bit" of the router advertisement header.
	This change is backward compatible; the traditional numeric
	notation is also accepted.

Wed Apr  9 17:19:41 JST 2003	suz@crl.hitachi.co.jp
	* kame/freebsd4: sync with FreeBSD 4.8-RELEASE

Wed Apr  2 20:29:23 JST 2003	suz@crl.hitachi.co.jp
	* kame/kame/mld6query: always advertise group-specific query from
	  link-local address

<200303>
Mon Mar 31 11:19:31 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netinet6/mip6.c,mip6_var.h,nd6_rtr.c:
	fixed a bug in a update routine of mip6 related data structure
	(prefix list and home agent list) when receiving a router
	advertisement.

2003-03-28  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/libinet6/name6.c: upgraded the support of ICMPv6
	nodeinfo for address to name mapping to recent versions of the
	specification.
	Note that:
	- this version sends queries to non-link-local addresses
	- this version does not cache the results

Fri Mar 28 17:18:29 JST 2003	suz@crl.hitachi.co.jp
	* freebsd5/sys/conf/file, kame/sys/netinet6/mip6*, mobility6.c:
	 makes MIP6 compilable on freebsd5 

Fri Mar 28 14:27:07 JST 2003	suz@crl.hitachi.co.jp
	* freebsd5/sys/sys/kernel.h, freebsd5/sys/net/if_var.h,
	  kame/sys/net/if_{dummy,faith,gif,stf}.c: KAME-origined 
	  logical-interfaces(gif, dummy, faith, and stf for the time being) 
	  are now working on freebsd5.

Wed Mar 26 19:43:16 JST 2003	suz@crl.hitachi.co.jp
	* freebsd[45]/sys/conf/options:
	supported LARGE_LOMTU kernel configuration option for 
	Jumbogram testing.

Tue Mar 25 19:07:53 JST 2003	suz@crl.hitachi.co.jp
	* kame/sys/netinet6/in6_msf.c
	fixed a bug that MSF does not work properly when changing its mode 
	by advanced API.

	* kame/sys/netinet/in_msf.c
	  {freebsd4,freebsd5,netbsd,openbsd}/sys/netinet/ip_output.c
	When the gap in the IPv4 multicast membership array is removed,
	multicast-socket-filter must be removed as well as multicast 
	membership array.  (specific to IGMPv3 extension)

	Reported by: Hitoshi Asaeda <Hitoshi.Asaeda@sophia.inria.fr>

2003-03-22  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/sys/netinet6/nd6_rtr.c (prelist_update): made sure to keep
	the current stored lifetime when it was not updated by an RA.
	Discovered through a periodic TAHI test by Ozoe Nobumichi
	<ozoe@tahi.org>.

2003-03-19  Hideki ONO  <ono@soft.net.fujitsu.co.jp>
	* kame/kame/vrrp6d,
	  kame/sys/net/{if_vrrp.c,if_vrrp_var.h},kame/sys/netinet6/mld6.c,
	  openbsd/sbin/ifconfig, openbsd/sys/net/{if_ethersubr.c,if_types.h},
	  openbsd/sys/sys/mbuf.h
	VRRP6 implementation for OpenBSD

Wed Mar 19 17:17:55 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netinet6/icmp6.c
	fixed a mbuf leak when generating an ICMPv6 redirect message.

2003-03-14  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6: C99 compliance; avoid using __func__ with
	concatenating other strings since it is a const char variable.

2003-03-13  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/rafixd: this is a new application.  The rafixd daemon
	invalidates bogus RAs by overriding them with the 0 router
	lifetime.  This is particularly useful on an event network that
	contains mis-configured "routers".

Mon Mar 10 15:02:05 JST 2003  itojun@iijlab.net
	* sctp: merged patch 7 from randall.

2003-03-06  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6/dhcp6c.c (client6_send): made sure that the
	elapsed time does not overflow, according to dhcpv6-interop-00.

<200302>
Tue Feb 25 19:50:40 JST 2003	suz@crl.hitachi.co.jp
	* freebsd{4,5}/sys/netinet/tcp_syncache.c
	  reflected FreeBSD-SA-03:03.syncookies (Brute force attack on SYN 
	  cookies)

2003-02-19  Hideki ONO  <ono@soft.net.fujitsu.co.jp>
	* kame/kame/vrrp6d,
	  kame/sys/net/{if_vrrp.c,if_vrrp_var.h},kame/sys/netinet6/mld6.c,
	  netbsd/sbin/ifconfig, netbsd/sys/net/{if_ethersubr.c,if_types.h},
	  netbsd/sys/sys/mbuf.h
	VRRP6 implementation for NetBSD
	* freebsd4/sbin/ifconfig, freebsd4/sys/net/{if_ethersubr.c,if_types.h},
	  freebsd4/sys/sys/mbuf.h
	changed VRRP6 implementation for FreeBSD4	

Wed Feb 19 17:26:11 JST 2003	keiichi@iij.ad.jp
	more mtag leaks are fidex.  M_MOVE_PKTHDR is introduced to
	NetBSD (ported from OpenBSD).
	TODO: KAME/freebsd5

Wed Feb 19 12:15:00 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netkey/key.c
	MIP6: flush a cached route of a SA when the destaddr of the SA
	has been changed.

2003-02-18  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* freebsd4/sys/sys/mbuf.h (M_MOVE_PKTHDR): ported from OpenBSD to
	"move" mtag from one mbuf to another.
	* kame/sys/netinet6/{icmp6.c, ip6_output, ipsec.c}: used
	M_MOVE_PKTHDR instead of M_COPY_PKTHDR when appropriate, in order
	to avoid mtag leakage.
	(We may need to change more, including support for other OSes)

Tue Feb 18 20:43:42 JST 2003	suz@crl.hitachi.co.jp
	* {freebsd4,netbsd,openbsd}/sys/netinet/udp_usrreq.c
	  properly handles IPv4 UDP packet for IPv4 broadcast address
	  (only for IGMPv3 kernel)

Tue Feb 18 12:19:53 JST 2003	suz@crl.hitachi.co.jp
	* {freebsd4,freebsd5,netbsd,openbsd}/sys/netinet/udp_usrreq.c
	  {freebsd4,freebsd5,kame}/sys/netinet6/udp6_usrreq.c:
	  fixed an IGMPv3 or MLDv2 kernel crash by a UDP multicast packet to 
	  addr:port, when some application joins to the addr and another 
	  application listens to the UDP port by unicast.

	  Reported by: Hitoshi Asaeda <Hitoshi.Asaeda@sophia.inria.fr>

2003-02-14  MOMOSE Tsuyoshi  <t-momose@netlab.nec.co.jp>
	*  kame/kame/sys/netinet6/{mobility6.c,mip6_pktproc.c},
	   kame/kame/sys/netinet/ip6.h
	- Changed some codes to be MIP6 ID-20 compliant.
	 + Binding Auth. Option no longer require alignments
	 + Changed Binding Refresh Advice option type
	 + Send Parameter Problem if received mobility header is too small
	   or it's next header value is not no next header.

Thu Feb 13 18:37:58 JST 2003	suz@crl.hitachi.co.jp
	* kame/kame/ifmcstat: ifmcstat works on freebsd5 now

2003-02-12  MOMOSE Tsuyoshi  <t-momose@netlab.nec.co.jp>
	* kame/sys/netinet6/{mip6.c,mip6_pktproc.c,mip6_var.h}: Only Home
	nonce is used for calculation Kbm when a binding update message
	tells to delete a binding cache.(HoA==CoA || lifetime==0)
	One of Known bugs in TODO.mobile-ip6 is fixed.

Wed Feb 12 19:09:04 JST 2003	suz@crl.hitachi.co.jp
	* kame/kame/pim6sd: fixed a pim6sd crash by SIGHUP

2003-02-10  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6/dhcp6c_ia.c (reestablish_ia): prevented the
	client from crashing when receiving a NoBinding code in response
	to a Rebind.
	Reported by: Ozoe Nobumichi <ozoe@intap.or.jp>

Mon 10 Feb 2002 14:11:46 JST	suz@crl.hitachi.co.jp
	* freebsd5/sys/netinet6/in6_pcb.c: getsockname()/getpeername() 
	  now returns proper port number for IPv6 socket.
	  (this makes rpcbind work properly on freebsd5)

2003/02/09 03:33:58 JST kjc@csl.sony.co.jp
	merge altq support into the freebsd5 tree.
	the original code was made for 5.0-dp1 and it hasn't been fully
	tested on 5.0 yet.

2003-02-07  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6/dhcp6c: obsoleted 'prefix-delegation' as a
	DHCPv6 option name.

2003-02-07  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/sys/netinet6/ip6_input.c (ip6_getpktaddrs): changed the 2nd
	and the 3rd arguments from 'sockaddr_in6 **' to 'sockaddr_in6 *'.
	The change will avoid sharing pointer in an mbuf with the caller
	of the function, and will be considered as less error-prone.
	* {*bsd, kame}/sys/netinet[6]/: all the points that called
	ip6_getpktaddrs() were modified accordingly.  There should be no
	change on behavior, but we may need some time to stabilize the
	code.

Fri Feb  7 19:40:36 JST 2003	suz@crl.hitachi.co.jp
	* kame/kame/pim6sd/{main.c, route_sock.h}: fixed file descriptor
	  leak by SIGHUP (reported by SUDOH Yoshiaki <sudo@iij.ad.jp>)

Fri Feb 7 19:17:12 JST 2003	suz@crl.hitachi.co.jp
	* freebsd5/*, kame/*: KAME for FreeBSD 5-RELEASE. (not supported
	  officially yet, as the merge work is not completely finished)

2003-02-06  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6: the client now sends a Request to reestablish
	an IA when receiving a NoBinding for the IA in response to a Renew
	or Rebind.  The behavior is compliant to Section 18.1.8 of
	dhcpv6-28.

Thu Feb  6 01:36:12 JST 2003	suz@crl.hitachi.co.jp
	* kame/kame/pim6sd/vif.c: fixed pim6sd crash by SIGHUP
	(reported by SUDOH Yoshiaki <sudo@iij.ad.jp>)

Wed Feb  5 20:25:32 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netinet/icmp6.h,ip6.h
	* kame/sys/netinet6/mip6_binding.c,mip6_pktproc.c
	* kame/kame/mip6control/mip6control.c
	- support for the MIP6 ID20 draft has been added.

2003-02-05  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* {freebsd4,kame}/sys/netinet6/udp6_usrreq.c (udp6_input)
	* {freebsd4,kame}/sys/netinet6/raw_ip6.c (rip6_input)
	removed redundant code fragments; we do not have to copy mtag back
	to the source any more.
	(There should be no change on behavior.)

Wed Feb  5 10:31:48 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netinet6/ip6_forward.c,ip6_output.c
	* freebsd4/sys/sys/mbuf.h
	- changed m_copy() behavior of freebsd4.  m_copy() now copies
	  mtags.

2003-02-04  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6/dhcp6c.c (client6_timo): changed the upper bound
	of retransmissions according to Section 14 of dhcpv6-28, so that
	the total number of transmissions (including the first one) is
	limited up to MRC.
	pointed out by: Ozoe Nobumichi <ozoe@intap.or.jp>

Mon Feb  3 18:53:50 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netinet6/{mip6_binding.c|ipsec.c}
	* kame/sys/netkey/key.[hc]
	- added partial support for the mip6-ha-ipsec draft.
	  define MIP6_HAIPSEC macro in your kernel config file to
	  enable optimized tunneling format.

<200301>
Fri Jan 31 21:28:08 JST 2003	keiichi@iij.ad.jp
	* kame/kame/mip6control:
	- the file format for mip6makeconfig.sh has been changed.

Thu Jan 30 15:52:05 JST 2003	suz@crl.hitachi.co.jp
	* kame/kame/pim6sd/mld6_proto.c:
	fixed a bug that MLD-compat-mode never switches back to MLDv2
	from MLDv1-compatible mode.

Thu Jan 30 13:04:25 JST 2003	suz@crl.hitachi.co.jp
	* kame/kame/pim6sd/{rp.c, cfparse.y}:
	fixed a bug that "cand_bsr/cand_rp (ifname)" does not work.
	(reported by Pekka Savola in snap-users ML #7516)

2003-01-29  MOMOSE Tsuyoshi  <t-momose@netlab.nec.co.jp>

	* kame/kame/sys/netinet6/mip6.c, mip6_var.h, mip6_pktpro.c:
	supports returning binding ack. status of expired nonce index when
	the nonces indicated in a binding update are already expired.

2003-01-27  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6: added some minor bug fixes and clarifications:
	- let the event structure to have IA for solicit and request so
	  that it is easier to handle each IA separately
	- fixed a bug that the server ID was not copied to request when
	  receiving an advertisement with the highest preference
	- fixed a bug of moving tailq list entries.  Introduced a new
	  library dhcp6_move_list() to address this problem.

Thu Jan 23 18:09:14 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netinet6/ip6_output.c:
	leave mtags in the original mbuf when copying the mbuf in
	ip6_mloopback().  the aux information stored in the mtags
	may be needed in the later process of the output routine.

Thu Jan 23 14:37:46 JST 2003  itojun@iijlab.net
	* sys/net/if_gif.c: detect encapsulation loop by using m_tag,
	  just like openbsd-current does.

2003-01-23  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6: supported a new substatement "prefix" for the
	id-assoc statement, which allows the client to require a
	particular prefix(es) as a subotion of the IA_PD option in Solicit
	messages.

2003-01-23  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6/dhcp6s.c (make_binding_ia): used local values
	for the pltime and vltime of a prefix to be renewed/rebound, not
	values in the renew/rebind message.

Thu Jan 23 09:26:35 JST 2003	suz@crl.hitachi.co.jp
	* kame/kame/pim6sd: 
	- fixed MLD query advertisement failure
	- displayes MLD group management info in dump

2003-01-22  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6: supported the elapsed time DHCPv6 option:
	- the client now includes the option for all messages.
	- the server logs the received option, though it does not care
	about the option value.

2003-01-21  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6: supported the Release message:
	- client now releases stateful resources before exiting or restarting
	  by sending the message.
	- server now accepts the message and releases the corresponding
	  binding.

Tue Jan 21 17:02:57 JST 2003  itojun@iijlab.net
	* sys/mbuf.h: switch from m_aux framework to m_tag framework (from
	  openbsd) for tagging extra information to mbuf chain.
	  TODO: bsdi4

2003-01-20  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/ndp/ndp.c (ifinfo): printed the max MTU for ndp -i IFNAME.

2003-01-20  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/sys/netinet6/(several files): clarified library interfaces
	for prefix manipulation.  There was no change on behavior.

Mon Jan 20 keiichi@iij.ad.jp
	* kame/sys/netinet6/mip6_pktproc.c
	fixed a bug that the correpondent node doesn't send back a
	binding ack even when the ACK bit is on.
	reported by Yukiyo Akisada <Yukiyo.Akisada@jp.yokogawa.com>.

Fri Jan 17 20:53:58 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netinet6/mip6_pktproc.c:
	more sanity checks.  a home test init and a care-of test init
	must not contain a home address destination option.
	reported by Yukiyo Akisada <Yukiyo.Akisada@jp.yokogawa.com>.

Fri Jan 17 19:28:45 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netinet6/mip6_binding.c:
	fixed a bug that sending with an invalid lifetime from a home
	agent when unregistering.
	reported by Yukiyo Akisada <Yukiyo.Akisada@jp.yokogawa.com>.

Fri Jan 17 19:18:44 JST 2003	keiichi@iij.ad.jp
	* kame/sys/netinet/icmp6.h:
	corrected the dhaad reply format.
	reported by Yukiyo Akisada <Yukiyo.Akisada@jp.yokogawa.com>.

Fri Jan 17 18:08:00 JST 2003	suz@crl.hitachi.co.jp
	* kame/sys/netinet6/ip6_input.c:
	  When listening to a source-specific-multicast group, receives 
	  IPv6 packets (e.g. ICMPv6 ECHO) as well as IPv6 UDP packets
	  if source and group are matched.
	      
Fri Jan 17 12:17:39 JST 2003	suz@crl.hitachi.co.jp
	* kame/sys/net/if_stf.c, kame/kame/rtsold/rtsold.{c,8}
	  rtsold now periodically solicites RA on ISATAP interface.

Sat Jan 11 16:25:06 JST 2003	suz@crl.hitachi.co.jp
	* bsdi4/sys/conf/files, bsdi4/sys/sys/sockio.h, bsdi4/sbin/ifconfig:
	  ISATAP implementation for bsdi4 (just confirmed compilation)

Fri Jan 10 17:27:10 JST 2003	suz@crl.hitachi.co.jp
	* kame/sys/net/if_*.c:
	  fixed a bug that some interfaces cannot be manipulated under
	  OpenBSD+KAME.

Thu Jan  9 20:10:24 JST 2003	suz@crl.hitachi.co.jp
	* {netbsd,openbsd}/sys/conf/files, {netbsd,openbsd}/sys/sys/sockio.h,
	  {netbsd,openbsd}/sbin/ifconfig, kame/sys/net/if_stf.c:
	  ISATAP implementation for NetBSD/OpenBSD.

Wed Jan  8 14:33:42 JST 2003	suz@crl.hitachi.co.jp
	* kame/kame/man/man4/stf.4, kame/sys/net/if_stf.[ch],
	  kame/sys/netinet6/in6.h, in6_ifattach.c, ip6_input.c,
	  freebsd4/sys/sys/sockio.h, freebsd4/sys/net/if.h:
	  ISATAP kernel implementation based on
	  draft-ietf-ngtrans-isatap-08.txt for FreeBSD-4.
	* kame/kame/rtadvd, kame/kame/rtsold, freebsd4/sbin/ifconfig
	  ISATAP userland implementation based on 
	  draft-ietf-ngtrans-isatap-08.txt for FreeBSD-4.
	  
	please see "man stf" for further detail.

Wed Jan  8 14:26:17 JST 2003  itojun@iijlab.net
	* sys/netkey/keydb.h: in struct secashead, "struct route" is not
	  sufficient if !NEW_STRUCT_ROUTE.  NetBSD PR 18751.

2003-01-06  JINMEI, Tatuya  <jinmei@isl.rdc.toshiba.co.jp>
	* kame/kame/dhcp6: upgraded base specification of DHCPv6 and prefix
	delegation using DHCPv6 according to the latest drafts.
	Note that backward compatibility to older versions of prefix
	delegation was not provided.
