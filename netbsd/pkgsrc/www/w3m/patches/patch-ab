$NetBSD: patch-ab,v 1.6 2000/06/21 08:22:12 itohy Exp $

Suspend the job w3m belongs to, not w3m only.

--- main.c.orig	Tue Jun  6 14:56:48 2000
+++ main.c	Tue Jun 20 21:21:19 2000
@@ -1529,7 +1529,17 @@
 	shell = "/bin/sh";
     system(shell);
 #else				/* SIGSTOP */
+#ifdef SIGTSTP	/* BSD */
+    signal(SIGTSTP, SIG_DFL);	/* just in case */
+    /*
+     * Note: If susp() was called from SIGTSTP handler,
+     * unblocking SIGTSTP would be required here.
+     * Currently not.
+     */
+    kill(0, SIGTSTP);	/* stop whole job, not a single process */
+#else
     kill(getpid(), SIGSTOP);
+#endif
 #endif				/* SIGSTOP */
     fmInit();
     displayBuffer(Currentbuf, B_FORCE_REDRAW);
