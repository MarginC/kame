	Installation procedure - preparation of the tree
	KAME project
	$Id: INSTALL,v 1.12 1999/12/13 00:58:48 itojun Exp $

Let's call the entire file-tree under this directory "the KAME tree".

This directory contains several information files and two
directories. The "kame" directory contains files created by the KAME
project, which are shareable among NetBSD, FreeBSD, and other
operating systems.

The other directory is for your target operating system. In most
cases, sufficient files are provided and ready for IPv6. So, you don't
have to apply any patches.

However, due to license issues, some necessary files are not provided
for some operating systems. In this case you have to complete the KAME
tree by yourself (in the step 2).

NOTE: On some operating systems it is possible to perform "make obj"
before building.  However, it is not recommended since it might cause
troubles with anoncvs operation.  For example, the "update" target for
Makefile in the top-level directory will become unusable.  Do not
perform "make obj" unless you are ready to tackle those troubles.

0. If you have an installed KAME kit in the past, you may need to
   remove the files under "/usr/local/v6" to avoid conflicts or misuse
   of the old files during building.  We recommend you to remove the
   following, at least:
	/usr/local/v6/lib/*
   Also, do not forget to update "/usr/include" in step 5 (see below),
   otherwise the include files and source code become out-of-sync.

1. See the "VERSION" file and identify a symbol name for your target
   operating system. For the rest of this document, we assume "netbsd"
   for explanation.
  
2. Be sure to have the complete KAME tree. In some cases you'll need
   to get sources and put them into the target directory, then perform
   "patch" operations.  Please read the documents under your target
   directory for more information.

3. Invoke the following:
	% make TARGET=netbsd prepare
   This will create necessary symbolic links for building (from the
   "netbsd" tree to the "kame" tree).  NOTE: You'll need the "perl"
   interpreter to invoke this.

4. Some parts of the KAME tree will be compiled, only if there are
   certain libraries installed beforehand:
	usr.sbin/tcpdump:
		If there is SSLeay or OpenSSL installed beforehand, 
		tcpdump will let you look inside IPsec packet (-E option).
	usr.sbin/racoon:
		Compiles only if SSLeay or OpenSSL is installed beforehand.
   Please install those libraries before building.

   We support the following installations.
   - You installed SSLeay, with default installation path
   - You installed OpenSSL, with default installation path
	This means that you have given no option to "./configure".
   - You installed SSLeay, via FreeBSD ports/NetBSD pkgsrc system
   - You installed OpenSSL, via FreeBSD ports/NetBSD pkgsrc system.
	Note that we do not support ports-current/pkgsrc-current.  Please
	stick to the ports/pkgsrc came the FreeBSD/NetBSD you are using.

   If you install SSLeay/OpenSSL with some other ways, the KAME tree
   may fail to find SSLeay/OpenSSL and omit compilation of, for
   example, usr.sbin/racoon.

5. Go down to the target directory that you have specified (e.g
   "netbsd"), and read document named "INSTALL" (placed in somewhere like
   "netbsd/INSTALL").  Good luck!
